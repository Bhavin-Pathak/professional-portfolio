{"version":3,"file":"static/js/956.d3f5e885.chunk.js","mappings":"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","sources":["components/SplashCursor.js"],"sourcesContent":["'use client';\nimport { useEffect, useRef } from 'react';\nimport PropTypes from 'prop-types';\n\nfunction SplashCursor({\n    SIM_RESOLUTION = 128,\n    DYE_RESOLUTION = 1440,\n    CAPTURE_RESOLUTION = 512,\n    DENSITY_DISSIPATION = 3.5,\n    VELOCITY_DISSIPATION = 2,\n    PRESSURE = 0.1,\n    PRESSURE_ITERATIONS = 20,\n    CURL = 3,\n    SPLAT_RADIUS = 0.2,\n    SPLAT_FORCE = 6000,\n    SHADING = true,\n    COLOR_UPDATE_SPEED = 10,\n    BACK_COLOR = { r: 0.5, g: 0, b: 0 },\n    TRANSPARENT = true\n}) {\n    const canvasRef = useRef(null);\n\n    useEffect(() => {\n        const canvas = canvasRef.current;\n        if (!canvas) return;\n\n        function pointerPrototype() {\n            this.id = -1;\n            this.texcoordX = 0;\n            this.texcoordY = 0;\n            this.prevTexcoordX = 0;\n            this.prevTexcoordY = 0;\n            this.deltaX = 0;\n            this.deltaY = 0;\n            this.down = false;\n            this.moved = false;\n            this.color = [0, 0, 0];\n        }\n\n        let config = {\n            SIM_RESOLUTION,\n            DYE_RESOLUTION,\n            CAPTURE_RESOLUTION,\n            DENSITY_DISSIPATION,\n            VELOCITY_DISSIPATION,\n            PRESSURE,\n            PRESSURE_ITERATIONS,\n            CURL,\n            SPLAT_RADIUS,\n            SPLAT_FORCE,\n            SHADING,\n            COLOR_UPDATE_SPEED,\n            PAUSED: false,\n            BACK_COLOR,\n            TRANSPARENT\n        };\n\n        let pointers = [new pointerPrototype()];\n\n        const { gl, ext } = getWebGLContext(canvas);\n        if (!ext.supportLinearFiltering) {\n            config.DYE_RESOLUTION = 256;\n            config.SHADING = false;\n        }\n\n        function getWebGLContext(canvas) {\n            const params = {\n                alpha: true,\n                depth: false,\n                stencil: false,\n                antialias: false,\n                preserveDrawingBuffer: false\n            };\n            let gl = canvas.getContext('webgl2', params);\n            const isWebGL2 = !!gl;\n            if (!isWebGL2) gl = canvas.getContext('webgl', params) || canvas.getContext('experimental-webgl', params);\n            let halfFloat;\n            let supportLinearFiltering;\n            if (isWebGL2) {\n                gl.getExtension('EXT_color_buffer_float');\n                supportLinearFiltering = gl.getExtension('OES_texture_float_linear');\n            } else {\n                halfFloat = gl.getExtension('OES_texture_half_float');\n                supportLinearFiltering = gl.getExtension('OES_texture_half_float_linear');\n            }\n            gl.clearColor(0.0, 0.0, 0.0, 1.0);\n            const halfFloatTexType = isWebGL2 ? gl.HALF_FLOAT : halfFloat && halfFloat.HALF_FLOAT_OES;\n            let formatRGBA;\n            let formatRG;\n            let formatR;\n\n            if (isWebGL2) {\n                formatRGBA = getSupportedFormat(gl, gl.RGBA16F, gl.RGBA, halfFloatTexType);\n                formatRG = getSupportedFormat(gl, gl.RG16F, gl.RG, halfFloatTexType);\n                formatR = getSupportedFormat(gl, gl.R16F, gl.RED, halfFloatTexType);\n            } else {\n                formatRGBA = getSupportedFormat(gl, gl.RGBA, gl.RGBA, halfFloatTexType);\n                formatRG = getSupportedFormat(gl, gl.RGBA, gl.RGBA, halfFloatTexType);\n                formatR = getSupportedFormat(gl, gl.RGBA, gl.RGBA, halfFloatTexType);\n            }\n\n            return {\n                gl,\n                ext: {\n                    formatRGBA,\n                    formatRG,\n                    formatR,\n                    halfFloatTexType,\n                    supportLinearFiltering\n                }\n            };\n        }\n\n        function getSupportedFormat(gl, internalFormat, format, type) {\n            if (!supportRenderTextureFormat(gl, internalFormat, format, type)) {\n                switch (internalFormat) {\n                    case gl.R16F:\n                        return getSupportedFormat(gl, gl.RG16F, gl.RG, type);\n                    case gl.RG16F:\n                        return getSupportedFormat(gl, gl.RGBA16F, gl.RGBA, type);\n                    default:\n                        return null;\n                }\n            }\n            return {\n                internalFormat,\n                format\n            };\n        }\n\n        function supportRenderTextureFormat(gl, internalFormat, format, type) {\n            const texture = gl.createTexture();\n            gl.bindTexture(gl.TEXTURE_2D, texture);\n            gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MIN_FILTER, gl.NEAREST);\n            gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MAG_FILTER, gl.NEAREST);\n            gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_S, gl.CLAMP_TO_EDGE);\n            gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_T, gl.CLAMP_TO_EDGE);\n            gl.texImage2D(gl.TEXTURE_2D, 0, internalFormat, 4, 4, 0, format, type, null);\n            const fbo = gl.createFramebuffer();\n            gl.bindFramebuffer(gl.FRAMEBUFFER, fbo);\n            gl.framebufferTexture2D(gl.FRAMEBUFFER, gl.COLOR_ATTACHMENT0, gl.TEXTURE_2D, texture, 0);\n            const status = gl.checkFramebufferStatus(gl.FRAMEBUFFER);\n            return status === gl.FRAMEBUFFER_COMPLETE;\n        }\n\n        class Material {\n            constructor(vertexShader, fragmentShaderSource) {\n                this.vertexShader = vertexShader;\n                this.fragmentShaderSource = fragmentShaderSource;\n                this.programs = [];\n                this.activeProgram = null;\n                this.uniforms = [];\n            }\n            setKeywords(keywords) {\n                let hash = 0;\n                for (let i = 0; i < keywords.length; i++) hash += hashCode(keywords[i]);\n                let program = this.programs[hash];\n                if (program == null) {\n                    let fragmentShader = compileShader(gl.FRAGMENT_SHADER, this.fragmentShaderSource, keywords);\n                    program = createProgram(this.vertexShader, fragmentShader);\n                    this.programs[hash] = program;\n                }\n                if (program === this.activeProgram) return;\n                this.uniforms = getUniforms(program);\n                this.activeProgram = program;\n            }\n            bind() {\n                gl.useProgram(this.activeProgram);\n            }\n        }\n\n        class Program {\n            constructor(vertexShader, fragmentShader) {\n                this.uniforms = {};\n                this.program = createProgram(vertexShader, fragmentShader);\n                this.uniforms = getUniforms(this.program);\n            }\n            bind() {\n                gl.useProgram(this.program);\n            }\n        }\n\n        function createProgram(vertexShader, fragmentShader) {\n            let program = gl.createProgram();\n            gl.attachShader(program, vertexShader);\n            gl.attachShader(program, fragmentShader);\n            gl.linkProgram(program);\n            if (!gl.getProgramParameter(program, gl.LINK_STATUS)) console.trace(gl.getProgramInfoLog(program));\n            return program;\n        }\n\n        function getUniforms(program) {\n            let uniforms = [];\n            let uniformCount = gl.getProgramParameter(program, gl.ACTIVE_UNIFORMS);\n            for (let i = 0; i < uniformCount; i++) {\n                let uniformName = gl.getActiveUniform(program, i).name;\n                uniforms[uniformName] = gl.getUniformLocation(program, uniformName);\n            }\n            return uniforms;\n        }\n\n        function compileShader(type, source, keywords) {\n            source = addKeywords(source, keywords);\n            const shader = gl.createShader(type);\n            gl.shaderSource(shader, source);\n            gl.compileShader(shader);\n            if (!gl.getShaderParameter(shader, gl.COMPILE_STATUS)) console.trace(gl.getShaderInfoLog(shader));\n            return shader;\n        }\n\n        function addKeywords(source, keywords) {\n            if (!keywords) return source;\n            let keywordsString = '';\n            keywords.forEach(keyword => {\n                keywordsString += '#define ' + keyword + '\\n';\n            });\n            return keywordsString + source;\n        }\n\n        const baseVertexShader = compileShader(\n            gl.VERTEX_SHADER,\n            `\n        precision highp float;\n        attribute vec2 aPosition;\n        varying vec2 vUv;\n        varying vec2 vL;\n        varying vec2 vR;\n        varying vec2 vT;\n        varying vec2 vB;\n        uniform vec2 texelSize;\n\n        void main () {\n            vUv = aPosition * 0.5 + 0.5;\n            vL = vUv - vec2(texelSize.x, 0.0);\n            vR = vUv + vec2(texelSize.x, 0.0);\n            vT = vUv + vec2(0.0, texelSize.y);\n            vB = vUv - vec2(0.0, texelSize.y);\n            gl_Position = vec4(aPosition, 0.0, 1.0);\n        }\n      `\n        );\n\n        const copyShader = compileShader(\n            gl.FRAGMENT_SHADER,\n            `\n        precision mediump float;\n        precision mediump sampler2D;\n        varying highp vec2 vUv;\n        uniform sampler2D uTexture;\n\n        void main () {\n            gl_FragColor = texture2D(uTexture, vUv);\n        }\n      `\n        );\n\n        const clearShader = compileShader(\n            gl.FRAGMENT_SHADER,\n            `\n        precision mediump float;\n        precision mediump sampler2D;\n        varying highp vec2 vUv;\n        uniform sampler2D uTexture;\n        uniform float value;\n\n        void main () {\n            gl_FragColor = value * texture2D(uTexture, vUv);\n        }\n     `\n        );\n\n        const displayShaderSource = `\n      precision highp float;\n      precision highp sampler2D;\n      varying vec2 vUv;\n      varying vec2 vL;\n      varying vec2 vR;\n      varying vec2 vT;\n      varying vec2 vB;\n      uniform sampler2D uTexture;\n      uniform sampler2D uDithering;\n      uniform vec2 ditherScale;\n      uniform vec2 texelSize;\n\n      vec3 linearToGamma (vec3 color) {\n          color = max(color, vec3(0));\n          return max(1.055 * pow(color, vec3(0.416666667)) - 0.055, vec3(0));\n      }\n\n      void main () {\n          vec3 c = texture2D(uTexture, vUv).rgb;\n          #ifdef SHADING\n              vec3 lc = texture2D(uTexture, vL).rgb;\n              vec3 rc = texture2D(uTexture, vR).rgb;\n              vec3 tc = texture2D(uTexture, vT).rgb;\n              vec3 bc = texture2D(uTexture, vB).rgb;\n\n              float dx = length(rc) - length(lc);\n              float dy = length(tc) - length(bc);\n\n              vec3 n = normalize(vec3(dx, dy, length(texelSize)));\n              vec3 l = vec3(0.0, 0.0, 1.0);\n\n              float diffuse = clamp(dot(n, l) + 0.7, 0.7, 1.0);\n              c *= diffuse;\n          #endif\n\n          float a = max(c.r, max(c.g, c.b));\n          gl_FragColor = vec4(c, a);\n      }\n    `;\n\n        const splatShader = compileShader(\n            gl.FRAGMENT_SHADER,\n            `\n        precision highp float;\n        precision highp sampler2D;\n        varying vec2 vUv;\n        uniform sampler2D uTarget;\n        uniform float aspectRatio;\n        uniform vec3 color;\n        uniform vec2 point;\n        uniform float radius;\n\n        void main () {\n            vec2 p = vUv - point.xy;\n            p.x *= aspectRatio;\n            vec3 splat = exp(-dot(p, p) / radius) * color;\n            vec3 base = texture2D(uTarget, vUv).xyz;\n            gl_FragColor = vec4(base + splat, 1.0);\n        }\n      `\n        );\n\n        const advectionShader = compileShader(\n            gl.FRAGMENT_SHADER,\n            `\n        precision highp float;\n        precision highp sampler2D;\n        varying vec2 vUv;\n        uniform sampler2D uVelocity;\n        uniform sampler2D uSource;\n        uniform vec2 texelSize;\n        uniform vec2 dyeTexelSize;\n        uniform float dt;\n        uniform float dissipation;\n\n        vec4 bilerp (sampler2D sam, vec2 uv, vec2 tsize) {\n            vec2 st = uv / tsize - 0.5;\n            vec2 iuv = floor(st);\n            vec2 fuv = fract(st);\n\n            vec4 a = texture2D(sam, (iuv + vec2(0.5, 0.5)) * tsize);\n            vec4 b = texture2D(sam, (iuv + vec2(1.5, 0.5)) * tsize);\n            vec4 c = texture2D(sam, (iuv + vec2(0.5, 1.5)) * tsize);\n            vec4 d = texture2D(sam, (iuv + vec2(1.5, 1.5)) * tsize);\n\n            return mix(mix(a, b, fuv.x), mix(c, d, fuv.x), fuv.y);\n        }\n\n        void main () {\n            #ifdef MANUAL_FILTERING\n                vec2 coord = vUv - dt * bilerp(uVelocity, vUv, texelSize).xy * texelSize;\n                vec4 result = bilerp(uSource, coord, dyeTexelSize);\n            #else\n                vec2 coord = vUv - dt * texture2D(uVelocity, vUv).xy * texelSize;\n                vec4 result = texture2D(uSource, coord);\n            #endif\n            float decay = 1.0 + dissipation * dt;\n            gl_FragColor = result / decay;\n        }\n      `,\n            ext.supportLinearFiltering ? null : ['MANUAL_FILTERING']\n        );\n\n        const divergenceShader = compileShader(\n            gl.FRAGMENT_SHADER,\n            `\n        precision mediump float;\n        precision mediump sampler2D;\n        varying highp vec2 vUv;\n        varying highp vec2 vL;\n        varying highp vec2 vR;\n        varying highp vec2 vT;\n        varying highp vec2 vB;\n        uniform sampler2D uVelocity;\n\n        void main () {\n            float L = texture2D(uVelocity, vL).x;\n            float R = texture2D(uVelocity, vR).x;\n            float T = texture2D(uVelocity, vT).y;\n            float B = texture2D(uVelocity, vB).y;\n\n            vec2 C = texture2D(uVelocity, vUv).xy;\n            if (vL.x < 0.0) { L = -C.x; }\n            if (vR.x > 1.0) { R = -C.x; }\n            if (vT.y > 1.0) { T = -C.y; }\n            if (vB.y < 0.0) { B = -C.y; }\n\n            float div = 0.5 * (R - L + T - B);\n            gl_FragColor = vec4(div, 0.0, 0.0, 1.0);\n        }\n      `\n        );\n\n        const curlShader = compileShader(\n            gl.FRAGMENT_SHADER,\n            `\n        precision mediump float;\n        precision mediump sampler2D;\n        varying highp vec2 vUv;\n        varying highp vec2 vL;\n        varying highp vec2 vR;\n        varying highp vec2 vT;\n        varying highp vec2 vB;\n        uniform sampler2D uVelocity;\n\n        void main () {\n            float L = texture2D(uVelocity, vL).y;\n            float R = texture2D(uVelocity, vR).y;\n            float T = texture2D(uVelocity, vT).x;\n            float B = texture2D(uVelocity, vB).x;\n            float vorticity = R - L - T + B;\n            gl_FragColor = vec4(0.5 * vorticity, 0.0, 0.0, 1.0);\n        }\n      `\n        );\n\n        const vorticityShader = compileShader(\n            gl.FRAGMENT_SHADER,\n            `\n        precision highp float;\n        precision highp sampler2D;\n        varying vec2 vUv;\n        varying vec2 vL;\n        varying vec2 vR;\n        varying vec2 vT;\n        varying vec2 vB;\n        uniform sampler2D uVelocity;\n        uniform sampler2D uCurl;\n        uniform float curl;\n        uniform float dt;\n\n        void main () {\n            float L = texture2D(uCurl, vL).x;\n            float R = texture2D(uCurl, vR).x;\n            float T = texture2D(uCurl, vT).x;\n            float B = texture2D(uCurl, vB).x;\n            float C = texture2D(uCurl, vUv).x;\n\n            vec2 force = 0.5 * vec2(abs(T) - abs(B), abs(R) - abs(L));\n            force /= length(force) + 0.0001;\n            force *= curl * C;\n            force.y *= -1.0;\n\n            vec2 velocity = texture2D(uVelocity, vUv).xy;\n            velocity += force * dt;\n            velocity = min(max(velocity, -1000.0), 1000.0);\n            gl_FragColor = vec4(velocity, 0.0, 1.0);\n        }\n      `\n        );\n\n        const pressureShader = compileShader(\n            gl.FRAGMENT_SHADER,\n            `\n        precision mediump float;\n        precision mediump sampler2D;\n        varying highp vec2 vUv;\n        varying highp vec2 vL;\n        varying highp vec2 vR;\n        varying highp vec2 vT;\n        varying highp vec2 vB;\n        uniform sampler2D uPressure;\n        uniform sampler2D uDivergence;\n\n        void main () {\n            float L = texture2D(uPressure, vL).x;\n            float R = texture2D(uPressure, vR).x;\n            float T = texture2D(uPressure, vT).x;\n            float B = texture2D(uPressure, vB).x;\n            float C = texture2D(uPressure, vUv).x;\n            float divergence = texture2D(uDivergence, vUv).x;\n            float pressure = (L + R + B + T - divergence) * 0.25;\n            gl_FragColor = vec4(pressure, 0.0, 0.0, 1.0);\n        }\n      `\n        );\n\n        const gradientSubtractShader = compileShader(\n            gl.FRAGMENT_SHADER,\n            `\n        precision mediump float;\n        precision mediump sampler2D;\n        varying highp vec2 vUv;\n        varying highp vec2 vL;\n        varying highp vec2 vR;\n        varying highp vec2 vT;\n        varying highp vec2 vB;\n        uniform sampler2D uPressure;\n        uniform sampler2D uVelocity;\n\n        void main () {\n            float L = texture2D(uPressure, vL).x;\n            float R = texture2D(uPressure, vR).x;\n            float T = texture2D(uPressure, vT).x;\n            float B = texture2D(uPressure, vB).x;\n            vec2 velocity = texture2D(uVelocity, vUv).xy;\n            velocity.xy -= vec2(R - L, T - B);\n            gl_FragColor = vec4(velocity, 0.0, 1.0);\n        }\n      `\n        );\n\n        const blit = (() => {\n            gl.bindBuffer(gl.ARRAY_BUFFER, gl.createBuffer());\n            gl.bufferData(gl.ARRAY_BUFFER, new Float32Array([-1, -1, -1, 1, 1, 1, 1, -1]), gl.STATIC_DRAW);\n            gl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER, gl.createBuffer());\n            gl.bufferData(gl.ELEMENT_ARRAY_BUFFER, new Uint16Array([0, 1, 2, 0, 2, 3]), gl.STATIC_DRAW);\n            gl.vertexAttribPointer(0, 2, gl.FLOAT, false, 0, 0);\n            gl.enableVertexAttribArray(0);\n            return (target, clear = false) => {\n                if (target == null) {\n                    gl.viewport(0, 0, gl.drawingBufferWidth, gl.drawingBufferHeight);\n                    gl.bindFramebuffer(gl.FRAMEBUFFER, null);\n                } else {\n                    gl.viewport(0, 0, target.width, target.height);\n                    gl.bindFramebuffer(gl.FRAMEBUFFER, target.fbo);\n                }\n                if (clear) {\n                    gl.clearColor(0.0, 0.0, 0.0, 1.0);\n                    gl.clear(gl.COLOR_BUFFER_BIT);\n                }\n                gl.drawElements(gl.TRIANGLES, 6, gl.UNSIGNED_SHORT, 0);\n            };\n        })();\n\n        let dye, velocity, divergence, curl, pressure;\n\n        const copyProgram = new Program(baseVertexShader, copyShader);\n        const clearProgram = new Program(baseVertexShader, clearShader);\n        const splatProgram = new Program(baseVertexShader, splatShader);\n        const advectionProgram = new Program(baseVertexShader, advectionShader);\n        const divergenceProgram = new Program(baseVertexShader, divergenceShader);\n        const curlProgram = new Program(baseVertexShader, curlShader);\n        const vorticityProgram = new Program(baseVertexShader, vorticityShader);\n        const pressureProgram = new Program(baseVertexShader, pressureShader);\n        const gradienSubtractProgram = new Program(baseVertexShader, gradientSubtractShader);\n        const displayMaterial = new Material(baseVertexShader, displayShaderSource);\n\n        function initFramebuffers() {\n            let simRes = getResolution(config.SIM_RESOLUTION);\n            let dyeRes = getResolution(config.DYE_RESOLUTION);\n            const texType = ext.halfFloatTexType;\n            const rgba = ext.formatRGBA;\n            const rg = ext.formatRG;\n            const r = ext.formatR;\n            const filtering = ext.supportLinearFiltering ? gl.LINEAR : gl.NEAREST;\n            gl.disable(gl.BLEND);\n\n            if (!dye)\n                dye = createDoubleFBO(dyeRes.width, dyeRes.height, rgba.internalFormat, rgba.format, texType, filtering);\n            else\n                dye = resizeDoubleFBO(dye, dyeRes.width, dyeRes.height, rgba.internalFormat, rgba.format, texType, filtering);\n\n            if (!velocity)\n                velocity = createDoubleFBO(simRes.width, simRes.height, rg.internalFormat, rg.format, texType, filtering);\n            else\n                velocity = resizeDoubleFBO(\n                    velocity,\n                    simRes.width,\n                    simRes.height,\n                    rg.internalFormat,\n                    rg.format,\n                    texType,\n                    filtering\n                );\n\n            divergence = createFBO(simRes.width, simRes.height, r.internalFormat, r.format, texType, gl.NEAREST);\n            curl = createFBO(simRes.width, simRes.height, r.internalFormat, r.format, texType, gl.NEAREST);\n            pressure = createDoubleFBO(simRes.width, simRes.height, r.internalFormat, r.format, texType, gl.NEAREST);\n        }\n\n        function createFBO(w, h, internalFormat, format, type, param) {\n            gl.activeTexture(gl.TEXTURE0);\n            let texture = gl.createTexture();\n            gl.bindTexture(gl.TEXTURE_2D, texture);\n            gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MIN_FILTER, param);\n            gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MAG_FILTER, param);\n            gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_S, gl.CLAMP_TO_EDGE);\n            gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_T, gl.CLAMP_TO_EDGE);\n            gl.texImage2D(gl.TEXTURE_2D, 0, internalFormat, w, h, 0, format, type, null);\n\n            let fbo = gl.createFramebuffer();\n            gl.bindFramebuffer(gl.FRAMEBUFFER, fbo);\n            gl.framebufferTexture2D(gl.FRAMEBUFFER, gl.COLOR_ATTACHMENT0, gl.TEXTURE_2D, texture, 0);\n            gl.viewport(0, 0, w, h);\n            gl.clear(gl.COLOR_BUFFER_BIT);\n\n            let texelSizeX = 1.0 / w;\n            let texelSizeY = 1.0 / h;\n            return {\n                texture,\n                fbo,\n                width: w,\n                height: h,\n                texelSizeX,\n                texelSizeY,\n                attach(id) {\n                    gl.activeTexture(gl.TEXTURE0 + id);\n                    gl.bindTexture(gl.TEXTURE_2D, texture);\n                    return id;\n                }\n            };\n        }\n\n        function createDoubleFBO(w, h, internalFormat, format, type, param) {\n            let fbo1 = createFBO(w, h, internalFormat, format, type, param);\n            let fbo2 = createFBO(w, h, internalFormat, format, type, param);\n            return {\n                width: w,\n                height: h,\n                texelSizeX: fbo1.texelSizeX,\n                texelSizeY: fbo1.texelSizeY,\n                get read() {\n                    return fbo1;\n                },\n                set read(value) {\n                    fbo1 = value;\n                },\n                get write() {\n                    return fbo2;\n                },\n                set write(value) {\n                    fbo2 = value;\n                },\n                swap() {\n                    let temp = fbo1;\n                    fbo1 = fbo2;\n                    fbo2 = temp;\n                }\n            };\n        }\n\n        function resizeFBO(target, w, h, internalFormat, format, type, param) {\n            let newFBO = createFBO(w, h, internalFormat, format, type, param);\n            copyProgram.bind();\n            gl.uniform1i(copyProgram.uniforms.uTexture, target.attach(0));\n            blit(newFBO);\n            return newFBO;\n        }\n\n        function resizeDoubleFBO(target, w, h, internalFormat, format, type, param) {\n            if (target.width === w && target.height === h) return target;\n            target.read = resizeFBO(target.read, w, h, internalFormat, format, type, param);\n            target.write = createFBO(w, h, internalFormat, format, type, param);\n            target.width = w;\n            target.height = h;\n            target.texelSizeX = 1.0 / w;\n            target.texelSizeY = 1.0 / h;\n            return target;\n        }\n\n        function updateKeywords() {\n            let displayKeywords = [];\n            if (config.SHADING) displayKeywords.push('SHADING');\n            displayMaterial.setKeywords(displayKeywords);\n        }\n\n        updateKeywords();\n        initFramebuffers();\n        let lastUpdateTime = Date.now();\n        let colorUpdateTimer = 0.0;\n\n        function updateFrame() {\n            const dt = calcDeltaTime();\n            if (resizeCanvas()) initFramebuffers();\n            updateColors(dt);\n            applyInputs();\n            step(dt);\n            render(null);\n            requestAnimationFrame(updateFrame);\n        }\n\n        function calcDeltaTime() {\n            let now = Date.now();\n            let dt = (now - lastUpdateTime) / 1000;\n            dt = Math.min(dt, 0.016666);\n            lastUpdateTime = now;\n            return dt;\n        }\n\n        function resizeCanvas() {\n            let width = scaleByPixelRatio(canvas.clientWidth);\n            let height = scaleByPixelRatio(canvas.clientHeight);\n            if (canvas.width !== width || canvas.height !== height) {\n                canvas.width = width;\n                canvas.height = height;\n                return true;\n            }\n            return false;\n        }\n\n        function updateColors(dt) {\n            colorUpdateTimer += dt * config.COLOR_UPDATE_SPEED;\n            if (colorUpdateTimer >= 1) {\n                colorUpdateTimer = wrap(colorUpdateTimer, 0, 1);\n                pointers.forEach(p => {\n                    p.color = generateColor();\n                });\n            }\n        }\n\n        function applyInputs() {\n            pointers.forEach(p => {\n                if (p.moved) {\n                    p.moved = false;\n                    splatPointer(p);\n                }\n            });\n        }\n\n        function step(dt) {\n            gl.disable(gl.BLEND);\n            curlProgram.bind();\n            gl.uniform2f(curlProgram.uniforms.texelSize, velocity.texelSizeX, velocity.texelSizeY);\n            gl.uniform1i(curlProgram.uniforms.uVelocity, velocity.read.attach(0));\n            blit(curl);\n\n            vorticityProgram.bind();\n            gl.uniform2f(vorticityProgram.uniforms.texelSize, velocity.texelSizeX, velocity.texelSizeY);\n            gl.uniform1i(vorticityProgram.uniforms.uVelocity, velocity.read.attach(0));\n            gl.uniform1i(vorticityProgram.uniforms.uCurl, curl.attach(1));\n            gl.uniform1f(vorticityProgram.uniforms.curl, config.CURL);\n            gl.uniform1f(vorticityProgram.uniforms.dt, dt);\n            blit(velocity.write);\n            velocity.swap();\n\n            divergenceProgram.bind();\n            gl.uniform2f(divergenceProgram.uniforms.texelSize, velocity.texelSizeX, velocity.texelSizeY);\n            gl.uniform1i(divergenceProgram.uniforms.uVelocity, velocity.read.attach(0));\n            blit(divergence);\n\n            clearProgram.bind();\n            gl.uniform1i(clearProgram.uniforms.uTexture, pressure.read.attach(0));\n            gl.uniform1f(clearProgram.uniforms.value, config.PRESSURE);\n            blit(pressure.write);\n            pressure.swap();\n\n            pressureProgram.bind();\n            gl.uniform2f(pressureProgram.uniforms.texelSize, velocity.texelSizeX, velocity.texelSizeY);\n            gl.uniform1i(pressureProgram.uniforms.uDivergence, divergence.attach(0));\n            for (let i = 0; i < config.PRESSURE_ITERATIONS; i++) {\n                gl.uniform1i(pressureProgram.uniforms.uPressure, pressure.read.attach(1));\n                blit(pressure.write);\n                pressure.swap();\n            }\n\n            gradienSubtractProgram.bind();\n            gl.uniform2f(gradienSubtractProgram.uniforms.texelSize, velocity.texelSizeX, velocity.texelSizeY);\n            gl.uniform1i(gradienSubtractProgram.uniforms.uPressure, pressure.read.attach(0));\n            gl.uniform1i(gradienSubtractProgram.uniforms.uVelocity, velocity.read.attach(1));\n            blit(velocity.write);\n            velocity.swap();\n\n            advectionProgram.bind();\n            gl.uniform2f(advectionProgram.uniforms.texelSize, velocity.texelSizeX, velocity.texelSizeY);\n            if (!ext.supportLinearFiltering)\n                gl.uniform2f(advectionProgram.uniforms.dyeTexelSize, velocity.texelSizeX, velocity.texelSizeY);\n            let velocityId = velocity.read.attach(0);\n            gl.uniform1i(advectionProgram.uniforms.uVelocity, velocityId);\n            gl.uniform1i(advectionProgram.uniforms.uSource, velocityId);\n            gl.uniform1f(advectionProgram.uniforms.dt, dt);\n            gl.uniform1f(advectionProgram.uniforms.dissipation, config.VELOCITY_DISSIPATION);\n            blit(velocity.write);\n            velocity.swap();\n\n            if (!ext.supportLinearFiltering)\n                gl.uniform2f(advectionProgram.uniforms.dyeTexelSize, dye.texelSizeX, dye.texelSizeY);\n            gl.uniform1i(advectionProgram.uniforms.uVelocity, velocity.read.attach(0));\n            gl.uniform1i(advectionProgram.uniforms.uSource, dye.read.attach(1));\n            gl.uniform1f(advectionProgram.uniforms.dissipation, config.DENSITY_DISSIPATION);\n            blit(dye.write);\n            dye.swap();\n        }\n\n        function render(target) {\n            gl.blendFunc(gl.ONE, gl.ONE_MINUS_SRC_ALPHA);\n            gl.enable(gl.BLEND);\n            drawDisplay(target);\n        }\n\n        function drawDisplay(target) {\n            let width = target == null ? gl.drawingBufferWidth : target.width;\n            let height = target == null ? gl.drawingBufferHeight : target.height;\n            displayMaterial.bind();\n            if (config.SHADING) gl.uniform2f(displayMaterial.uniforms.texelSize, 1.0 / width, 1.0 / height);\n            gl.uniform1i(displayMaterial.uniforms.uTexture, dye.read.attach(0));\n            blit(target);\n        }\n\n        function splatPointer(pointer) {\n            let dx = pointer.deltaX * config.SPLAT_FORCE;\n            let dy = pointer.deltaY * config.SPLAT_FORCE;\n            splat(pointer.texcoordX, pointer.texcoordY, dx, dy, pointer.color);\n        }\n\n        function clickSplat(pointer) {\n            const color = generateColor();\n            color.r *= 10.0;\n            color.g *= 10.0;\n            color.b *= 10.0;\n            let dx = 10 * (Math.random() - 0.5);\n            let dy = 30 * (Math.random() - 0.5);\n            splat(pointer.texcoordX, pointer.texcoordY, dx, dy, color);\n        }\n\n        function splat(x, y, dx, dy, color) {\n            splatProgram.bind();\n            gl.uniform1i(splatProgram.uniforms.uTarget, velocity.read.attach(0));\n            gl.uniform1f(splatProgram.uniforms.aspectRatio, canvas.width / canvas.height);\n            gl.uniform2f(splatProgram.uniforms.point, x, y);\n            gl.uniform3f(splatProgram.uniforms.color, dx, dy, 0.0);\n            gl.uniform1f(splatProgram.uniforms.radius, correctRadius(config.SPLAT_RADIUS / 100.0));\n            blit(velocity.write);\n            velocity.swap();\n\n            gl.uniform1i(splatProgram.uniforms.uTarget, dye.read.attach(0));\n            gl.uniform3f(splatProgram.uniforms.color, color.r, color.g, color.b);\n            blit(dye.write);\n            dye.swap();\n        }\n\n        function correctRadius(radius) {\n            let aspectRatio = canvas.width / canvas.height;\n            if (aspectRatio > 1) radius *= aspectRatio;\n            return radius;\n        }\n\n        function updatePointerDownData(pointer, id, posX, posY) {\n            pointer.id = id;\n            pointer.down = true;\n            pointer.moved = false;\n            pointer.texcoordX = posX / canvas.width;\n            pointer.texcoordY = 1.0 - posY / canvas.height;\n            pointer.prevTexcoordX = pointer.texcoordX;\n            pointer.prevTexcoordY = pointer.texcoordY;\n            pointer.deltaX = 0;\n            pointer.deltaY = 0;\n            pointer.color = generateColor();\n        }\n\n        function updatePointerMoveData(pointer, posX, posY, color) {\n            pointer.prevTexcoordX = pointer.texcoordX;\n            pointer.prevTexcoordY = pointer.texcoordY;\n            pointer.texcoordX = posX / canvas.width;\n            pointer.texcoordY = 1.0 - posY / canvas.height;\n            pointer.deltaX = correctDeltaX(pointer.texcoordX - pointer.prevTexcoordX);\n            pointer.deltaY = correctDeltaY(pointer.texcoordY - pointer.prevTexcoordY);\n            pointer.moved = Math.abs(pointer.deltaX) > 0 || Math.abs(pointer.deltaY) > 0;\n            pointer.color = color;\n        }\n\n        function updatePointerUpData(pointer) {\n            pointer.down = false;\n        }\n\n        function correctDeltaX(delta) {\n            let aspectRatio = canvas.width / canvas.height;\n            if (aspectRatio < 1) delta *= aspectRatio;\n            return delta;\n        }\n\n        function correctDeltaY(delta) {\n            let aspectRatio = canvas.width / canvas.height;\n            if (aspectRatio > 1) delta /= aspectRatio;\n            return delta;\n        }\n\n        function generateColor() {\n            let c = HSVtoRGB(Math.random(), 1.0, 1.0);\n            c.r *= 0.15;\n            c.g *= 0.15;\n            c.b *= 0.15;\n            return c;\n        }\n\n        function HSVtoRGB(h, s, v) {\n            let r, g, b, i, f, p, q, t;\n            i = Math.floor(h * 6);\n            f = h * 6 - i;\n            p = v * (1 - s);\n            q = v * (1 - f * s);\n            t = v * (1 - (1 - f) * s);\n            switch (i % 6) {\n                case 0:\n                    r = v;\n                    g = t;\n                    b = p;\n                    break;\n                case 1:\n                    r = q;\n                    g = v;\n                    b = p;\n                    break;\n                case 2:\n                    r = p;\n                    g = v;\n                    b = t;\n                    break;\n                case 3:\n                    r = p;\n                    g = q;\n                    b = v;\n                    break;\n                case 4:\n                    r = t;\n                    g = p;\n                    b = v;\n                    break;\n                case 5:\n                    r = v;\n                    g = p;\n                    b = q;\n                    break;\n                default:\n                    break;\n            }\n            return { r, g, b };\n        }\n\n\n        function wrap(value, min, max) {\n            const range = max - min;\n            if (range === 0) return min;\n            return ((value - min) % range) + min;\n        }\n\n        function getResolution(resolution) {\n            let aspectRatio = gl.drawingBufferWidth / gl.drawingBufferHeight;\n            if (aspectRatio < 1) aspectRatio = 1.0 / aspectRatio;\n            const min = Math.round(resolution);\n            const max = Math.round(resolution * aspectRatio);\n            if (gl.drawingBufferWidth > gl.drawingBufferHeight) return { width: max, height: min };\n            else return { width: min, height: max };\n        }\n\n        function scaleByPixelRatio(input) {\n            const pixelRatio = window.devicePixelRatio || 1;\n            return Math.floor(input * pixelRatio);\n        }\n\n        function hashCode(s) {\n            if (s.length === 0) return 0;\n            let hash = 0;\n            for (let i = 0; i < s.length; i++) {\n                hash = (hash << 5) - hash + s.charCodeAt(i);\n                hash |= 0;\n            }\n            return hash;\n        }\n\n        window.addEventListener('mousedown', e => {\n            let pointer = pointers[0];\n            let posX = scaleByPixelRatio(e.clientX);\n            let posY = scaleByPixelRatio(e.clientY);\n            updatePointerDownData(pointer, -1, posX, posY);\n            clickSplat(pointer);\n        });\n\n        document.body.addEventListener('mousemove', function handleFirstMouseMove(e) {\n            let pointer = pointers[0];\n            let posX = scaleByPixelRatio(e.clientX);\n            let posY = scaleByPixelRatio(e.clientY);\n            let color = generateColor();\n            updateFrame();\n            updatePointerMoveData(pointer, posX, posY, color);\n            document.body.removeEventListener('mousemove', handleFirstMouseMove);\n        });\n\n        window.addEventListener('mousemove', e => {\n            let pointer = pointers[0];\n            let posX = scaleByPixelRatio(e.clientX);\n            let posY = scaleByPixelRatio(e.clientY);\n            let color = pointer.color;\n            updatePointerMoveData(pointer, posX, posY, color);\n        });\n\n        document.body.addEventListener('touchstart', function handleFirstTouchStart(e) {\n            const touches = e.targetTouches;\n            let pointer = pointers[0];\n            for (let i = 0; i < touches.length; i++) {\n                let posX = scaleByPixelRatio(touches[i].clientX);\n                let posY = scaleByPixelRatio(touches[i].clientY);\n                updateFrame();\n                updatePointerDownData(pointer, touches[i].identifier, posX, posY);\n            }\n            document.body.removeEventListener('touchstart', handleFirstTouchStart);\n        });\n\n        window.addEventListener('touchstart', e => {\n            const touches = e.targetTouches;\n            let pointer = pointers[0];\n            for (let i = 0; i < touches.length; i++) {\n                let posX = scaleByPixelRatio(touches[i].clientX);\n                let posY = scaleByPixelRatio(touches[i].clientY);\n                updatePointerDownData(pointer, touches[i].identifier, posX, posY);\n            }\n        });\n\n        window.addEventListener(\n            'touchmove',\n            e => {\n                const touches = e.targetTouches;\n                let pointer = pointers[0];\n                for (let i = 0; i < touches.length; i++) {\n                    let posX = scaleByPixelRatio(touches[i].clientX);\n                    let posY = scaleByPixelRatio(touches[i].clientY);\n                    updatePointerMoveData(pointer, posX, posY, pointer.color);\n                }\n            },\n            false\n        );\n\n        window.addEventListener('touchend', e => {\n            const touches = e.changedTouches;\n            let pointer = pointers[0];\n            for (let i = 0; i < touches.length; i++) {\n                updatePointerUpData(pointer);\n            }\n        });\n\n        updateFrame();\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [\n        SIM_RESOLUTION,\n        DYE_RESOLUTION,\n        CAPTURE_RESOLUTION,\n        DENSITY_DISSIPATION,\n        VELOCITY_DISSIPATION,\n        PRESSURE,\n        PRESSURE_ITERATIONS,\n        CURL,\n        SPLAT_RADIUS,\n        SPLAT_FORCE,\n        SHADING,\n        COLOR_UPDATE_SPEED,\n        BACK_COLOR,\n        TRANSPARENT\n    ]);\n\n    return (\n        <div className=\"fixed top-0 left-0 -z-10 pointer-events-none w-full h-full\">\n            <canvas ref={canvasRef} id=\"fluid\" className=\"w-screen h-screen block\"></canvas>\n        </div>\n    );\n}\n\nSplashCursor.propTypes = {\n    SIM_RESOLUTION: PropTypes.number,\n    DYE_RESOLUTION: PropTypes.number,\n    CAPTURE_RESOLUTION: PropTypes.number,\n    DENSITY_DISSIPATION: PropTypes.number,\n    VELOCITY_DISSIPATION: PropTypes.number,\n    PRESSURE: PropTypes.number,\n    PRESSURE_ITERATIONS: PropTypes.number,\n    CURL: PropTypes.number,\n    SPLAT_RADIUS: PropTypes.number,\n    SPLAT_FORCE: PropTypes.number,\n    SHADING: PropTypes.bool,\n    COLOR_UPDATE_SPEED: PropTypes.number,\n    BACK_COLOR: PropTypes.object,\n    TRANSPARENT: PropTypes.bool\n};\n\nexport default SplashCursor;\n"],"names":["_ref","SIM_RESOLUTION","DYE_RESOLUTION","CAPTURE_RESOLUTION","DENSITY_DISSIPATION","VELOCITY_DISSIPATION","PRESSURE","PRESSURE_ITERATIONS","CURL","SPLAT_RADIUS","SPLAT_FORCE","SHADING","COLOR_UPDATE_SPEED","BACK_COLOR","r","g","b","TRANSPARENT","canvasRef","useRef","useEffect","canvas","current","config","PAUSED","pointers","this","id","texcoordX","texcoordY","prevTexcoordX","prevTexcoordY","deltaX","deltaY","down","moved","color","gl","ext","params","alpha","depth","stencil","antialias","preserveDrawingBuffer","getContext","isWebGL2","halfFloat","supportLinearFiltering","getExtension","clearColor","halfFloatTexType","HALF_FLOAT","HALF_FLOAT_OES","formatRGBA","formatRG","formatR","getSupportedFormat","RGBA16F","RGBA","RG16F","RG","R16F","RED","getWebGLContext","internalFormat","format","type","texture","createTexture","bindTexture","TEXTURE_2D","texParameteri","TEXTURE_MIN_FILTER","NEAREST","TEXTURE_MAG_FILTER","TEXTURE_WRAP_S","CLAMP_TO_EDGE","TEXTURE_WRAP_T","texImage2D","fbo","createFramebuffer","bindFramebuffer","FRAMEBUFFER","framebufferTexture2D","COLOR_ATTACHMENT0","status","checkFramebufferStatus","FRAMEBUFFER_COMPLETE","supportRenderTextureFormat","Program","constructor","vertexShader","fragmentShader","uniforms","program","createProgram","getUniforms","bind","useProgram","attachShader","linkProgram","getProgramParameter","LINK_STATUS","console","trace","getProgramInfoLog","uniformCount","ACTIVE_UNIFORMS","i","uniformName","getActiveUniform","name","getUniformLocation","compileShader","source","keywords","keywordsString","forEach","keyword","addKeywords","shader","createShader","shaderSource","getShaderParameter","COMPILE_STATUS","getShaderInfoLog","baseVertexShader","VERTEX_SHADER","copyShader","FRAGMENT_SHADER","clearShader","splatShader","advectionShader","divergenceShader","curlShader","vorticityShader","pressureShader","gradientSubtractShader","blit","bindBuffer","ARRAY_BUFFER","createBuffer","bufferData","Float32Array","STATIC_DRAW","ELEMENT_ARRAY_BUFFER","Uint16Array","vertexAttribPointer","FLOAT","enableVertexAttribArray","target","clear","arguments","length","undefined","viewport","drawingBufferWidth","drawingBufferHeight","width","height","COLOR_BUFFER_BIT","drawElements","TRIANGLES","UNSIGNED_SHORT","dye","velocity","divergence","curl","pressure","copyProgram","clearProgram","splatProgram","advectionProgram","divergenceProgram","curlProgram","vorticityProgram","pressureProgram","gradienSubtractProgram","displayMaterial","fragmentShaderSource","programs","activeProgram","setKeywords","hash","hashCode","initFramebuffers","simRes","getResolution","dyeRes","texType","rgba","rg","filtering","LINEAR","disable","BLEND","resizeDoubleFBO","createDoubleFBO","createFBO","w","h","param","activeTexture","TEXTURE0","texelSizeX","texelSizeY","attach","fbo1","fbo2","read","value","write","swap","temp","newFBO","uniform1i","uTexture","resizeFBO","displayKeywords","push","updateKeywords","lastUpdateTime","Date","now","colorUpdateTimer","updateFrame","dt","Math","min","calcDeltaTime","scaleByPixelRatio","clientWidth","clientHeight","resizeCanvas","max","range","wrap","p","generateColor","updateColors","pointer","dx","dy","splat","splatPointer","uniform2f","texelSize","uVelocity","uCurl","uniform1f","uDivergence","uPressure","dyeTexelSize","velocityId","uSource","dissipation","step","blendFunc","ONE","ONE_MINUS_SRC_ALPHA","enable","drawDisplay","requestAnimationFrame","x","y","uTarget","aspectRatio","point","uniform3f","radius","correctRadius","updatePointerDownData","posX","posY","updatePointerMoveData","delta","correctDeltaX","correctDeltaY","abs","updatePointerUpData","c","s","v","f","q","t","floor","HSVtoRGB","random","resolution","round","input","pixelRatio","window","devicePixelRatio","charCodeAt","addEventListener","e","clientX","clientY","clickSplat","document","body","handleFirstMouseMove","removeEventListener","handleFirstTouchStart","touches","targetTouches","identifier","changedTouches","_jsx","className","children","ref"],"ignoreList":[],"sourceRoot":""}